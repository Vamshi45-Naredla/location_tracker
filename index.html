<script>
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(sendLocation, showError);
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }

    function sendLocation(position) {
        let latitude = position.coords.latitude;
        let longitude = position.coords.longitude;
        
        // âœ… Use correct API URL
        fetch("https://app-py-xc5g.onrender.com/location", {  
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ latitude, longitude })
        })
        .then(response => response.json())
        .then(data => alert(`Server Response: ${JSON.stringify(data)}`))
        .catch(error => alert(`Error sending location: ${error}`));
    }

    function showError(error) {
        alert("Location access denied or unavailable.");
    }
</script>

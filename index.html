<script>
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(sendLocation, showError);
        } else {
            alert("‚ùå Geolocation is not supported by this browser.");
        }
    }

    function sendLocation(position) {
        let latitude = position.coords.latitude;
        let longitude = position.coords.longitude;

        console.log(`üìç Latitude: ${latitude}, Longitude: ${longitude}`);  // ‚úÖ Debugging

        fetch("https://app-py-xc5g.onrender.com/location", {  // ‚úÖ Ensure your backend is running
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ latitude, longitude })
        })
        .then(response => response.json())
        .then(data => {
            console.log("‚úÖ Server Response:", data);
            alert(`‚úÖ Location Sent: ${latitude}, ${longitude}`);
        })
        .catch(error => {
            console.error("‚ùå Error sending location:", error);
            alert(`‚ùå Error sending location: ${error.message}`);
        });
    }

    function showError(error) {
        console.error("‚ùå Location Error:", error);
        alert("‚ùå Location access denied or unavailable.");
    }
</script>
